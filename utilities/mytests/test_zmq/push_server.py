import zmq
from time import sleep
context = zmq.Context()
socket = context.socket(zmq.PUSH)
socket.connect("tcp://127.0.0.1:5555")

msg_s = '[["elyse/sync/NI6071E/delay/0.000000","elyse/sync/NI6071E/width/0.000000","elyse/sync/frequency/delay/0.000000","elyse/sync/frequency/width/0.000000","elyse/sync/WCM/delay/0.000000","elyse/sync/WCM/width/0.000000","elyse/sync/modulator/delay/0.000000","elyse/sync/modulator/width/0.000000","elyse/sync/HF/delay/0.000000","elyse/sync/HF/width/0.000000","elyse/sync/Faraday/delay/0.000000","elyse/sync/Faraday/width/0.000000","elyse/sync/Oscilloscope/delay/0.000000","elyse/sync/Oscilloscope/width/0.000000","elyse/sync/50Hz_20MHz/delay/0.000000","elyse/sync/50Hz_20MHz/width/0.000000","elyse/sync/laser_HF/delay/0.000000","elyse/sync/laser_HF/width/0.000000","elyse/sync/IMAC/delay/0.000000","elyse/sync/IMAC/width/0.000000","elyse/sync/laser/delay/0.000000","elyse/sync/laser/width/0.000000","elyse/sync/oscilloscope1/delay/0.000000","elyse/sync/oscilloscope1/width/0.000000","elyse/sync/oscilloscope2/delay/0.000000","elyse/sync/oscilloscope2/width/0.000000","elyse/sync/detection1/delay/0.000000","elyse/sync/detection1/width/0.000000","elyse/sync/detection1/delay/0.000000","elyse/sync/detection2/width/0.000000","elyse/sync/machine/delay/0.000000","elyse/sync/machine/width/0.000000","elyse/sync/n_selection/0.000000","","","","","","",""],["elyse/HT/voltage/set_value/0.000000","elyse/HT/voltage/value/0.000000","elyse/HT/current/value/0.000000","elyse/preamplifier/set_value/0.000000","elyse/preamplifier/value/0.000000","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["elyse/HF/attenuator/value/0.000000","elyse/HF/dephaser/value/0.000000","elyse/HF/dephaser/value_manuel/0.000000","elyse/HF/canon/value/0.000000","elyse/HF/section/value/0.000000","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["elyse/vacuum/preparation_chamber/state/0.000000","elyse/vacuum/preparation_chamber/measurement/0.000000","elyse/vacuum/HF/state/0.000000","elyse/vacuum/HF/measurement/0.000000","elyse/vacuum/canon/state/0.000000","elyse/vacuum/canon/measurement/0.000000","elyse/vacuum/section/state/0.000000","elyse/vacuum/section/measurement/0.000000","elyse/vacuum/dipole1/state/0.000000","elyse/vacuum/dipole1/measurement/0.000000","elyse/vacuum/screen1/state/0.000000","elyse/vacuum/screen1/measurement/0.000000","elyse/vacuum/mirror/state/0.000000","elyse/vacuum/mirror/measurement/0.000000","elyse/vacuum/tpg300_section/state/0.000000","elyse/vacuum/tpg300_section/measurement/0.000000","elyse/vacuum/valves/cathode/state/0.000000","elyse/vacuum/valves/injection/state/0.000000","","","","","","","","","","","","","","","","","","","","","",""],["elyse/modulator/focale1/current/value/0.000000","elyse/modulator/focale2/current/value/0.000000","elyse/modulator/focale3/current/value/0.000000","elyse/modulator/LAR/voltage/value/0.000000","elyse/modulator/line_end/current/value/0.000000","elyse/modulator/thyratron/currents/power/value/0.000000","elyse/modulator/thyratron_reservoir/current/value/0.000000","elyse/modulator/paramagnetization/current/value/0.000000","elyse/modulator/thyratron/voltages/heating/value/0.000000","elyse/modulator/thyratron/currents/heating/value/0.000000","elyse/modulator/klystron/currents/power/value/0.000000","elyse/modulator/klystron/voltages/power/value/0.000000","elyse/modulator/klystron/currents/heating/value/0.000000","elyse/modulator/klystron/voltages/heating/value/0.000000","","","","","","","","","","","","","","","","","","","","","","","","","",""],["elyse/cooling/section/temperature/set_value/0.000000","elyse/cooling/section/temperature/measurement/0.000000","elyse/cooling/canon/temperature/set_value/0.000000","elyse/cooling/canon/temperature/measurement/0.000000","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],["elyse/magnets/focale/set_value/0.000000","elyse/magnets/focale/value/0.000000","elyse/magnets/phase_HF_laser/set_value/0.000000","elyse/magnets/phase_HF_laser/value/0.000000","elyse/magnets/dipole1/set_value/0.000000","elyse/magnets/dipole1/value/0.000000","elyse/magnets/dipole2/set_value/0.000000","elyse/magnets/dipole2/value/0.000000","elyse/magnets/Cor_H1/set_value/0.000000","elyse/magnets/Cor_H1/value/0.000000","elyse/magnets/Cor_V1/set_value/0.000000","elyse/magnets/Cor_V1/value/0.000000","elyse/magnets/Cor_H2/set_value/0.000000","elyse/magnets/Cor_H2/value/0.000000","elyse/magnets/Cor_V2/set_value/0.000000","elyse/magnets/Cor_V2/value/0.000000","elyse/magnets/Cor_H3/set_value/0.000000","elyse/magnets/Cor_H3/value/0.000000","elyse/magnets/Cor_V3/set_value/0.000000","elyse/magnets/Cor_V3/value/0.000000","elyse/magnets/Cor_H4/set_value/0.000000","elyse/magnets/Cor_H4/value/0.000000","elyse/magnets/Cor_V4/set_value/0.000000","elyse/magnets/Cor_V4/value/0.000000","elyse/magnets/Cor_H5/set_value/0.000000","elyse/magnets/Cor_H5/value/0.000000","elyse/magnets/Cor_V5/set_value/0.000000","elyse/magnets/Cor_V5/value/0.000000","elyse/magnets/triplet1-1/set_value/0.000000","elyse/magnets/triplet1-1/value/0.000000","elyse/magnets/triplet1-2/set_value/0.000000","elyse/magnets/triplet1-2/value/0.000000","elyse/magnets/triplet2-1/set_value/0.000000","elyse/magnets/triplet2-1/value/0.000000","elyse/magnets/triplet2-2/set_value/0.000000","elyse/magnets/triplet2-2/value/0.000000","elyse/magnets/qudrupole1/set_value/0.000000","elyse/magnets/qudrupole1/value/0.000000","elyse/magnets/qudrupole2/set_value/0.000000","elyse/magnets/qudrupole2/value/0.000000"],["elyse/timestamp/0.000000","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]]'
msg = eval(msg_s)
print(msg)

while True:
    socket.send(str(msg).encode('utf-8'))
    sleep(0.5)
